(this["webpackJsonpsearch-picture"]=this["webpackJsonpsearch-picture"]||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(9),a=n.n(r),o=(n(96),n(97),n(160)),i=n(164),s=n(124),u=n(165),l=n(166),j=n(3);function d(){return Object(j.jsx)("div",{style:{flexGrow:1},children:Object(j.jsx)(o.a,{position:"static",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(s.a,{variant:"h6",children:"Image Finder"}),Object(j.jsx)("div",{style:{flexGrow:1}}),Object(j.jsx)(u.a,{color:"inherit",children:Object(j.jsx)(l.a,{})})]})})})}var O=n(179),b=n(167);function h(){return Object(j.jsx)("div",{style:{flexGrow:1},children:Object(j.jsx)(o.a,{position:"static",children:Object(j.jsx)(i.a,{children:Object(j.jsx)(s.a,{variant:"h6",style:{flexGrow:1},children:"Copyrights"})})})})}var p=n(168),f=n(169),x=n(25),g=n(54),m=n.n(g);function v(){return Object(j.jsx)("div",{className:m.a.menu,children:Object(j.jsxs)(b.a,{container:!0,direction:"column",alignItems:"center",children:[Object(j.jsx)(x.b,{to:"/search",activeClassName:m.a.active,children:Object(j.jsx)(u.a,{children:Object(j.jsx)(p.a,{})})}),Object(j.jsx)(x.b,{to:"/bookmarks",activeClassName:m.a.active,children:Object(j.jsx)(u.a,{children:Object(j.jsx)(f.a,{})})})]})})}var P=n(12),S=n(170),y=n(171),T=n(174),A=n(172),E=n(175),_=n(173),N=n(44),k=n.n(N);function I(e){return Object(j.jsxs)(S.a,{className:k.a.root,style:{background:"#ccc"},children:[Object(j.jsxs)(y.a,{children:[Object(j.jsx)(A.a,{className:k.a.media,image:e.picture.url}),Object(j.jsx)(_.a,{className:k.a.itemsText,style:{background:"#d1d1d1"},children:Object(j.jsx)(s.a,{variant:"body1",color:"textSecondary",component:"p",children:e.picture.title})})]}),Object(j.jsx)(T.a,{className:k.a.button,children:Object(j.jsx)(E.a,{variant:"outlined",size:"small",color:"default",onClick:function(){return e.remotePhoto(e.picture.id,e.picture)},children:e.description})})]})}var C=n(19),w=n(32),D=[],R=function(e){return{type:"APP/LOCALSTORAGE/SET-PHOTOS",photos:e}},G=n(183),H=n(14),L={status:"idle",error:void 0},B=function(e){return{type:"APP/SETTINGS/SET-STATUS",status:e}},M=function(e){return{type:"APP/SETTINGS/SET-ERROR",error:e}},F=n(181);function J(e){var t=Object(C.c)((function(e){return e.settings.status})),n=Object(C.b)();return Object(j.jsx)(G.a,{open:"succeeded"===t,autoHideDuration:1e3,onClose:function(){n(B("idle"))},style:{bottom:"80px"},children:Object(j.jsx)(F.a,{severity:"success",children:e.value})})}var V=n(52),q=n.n(V);function K(){var e=Object(C.c)((function(e){return e.localstorage})),t=Object(C.b)();function n(e){t(function(e){return function(t,n){t(function(e){return{type:"APP/LOCALSTORAGE/REMOVE-PHOTO",photoId:e}}(e)),localStorage.setItem("state",JSON.stringify(n().localstorage))}}(e)),t(B("succeeded"))}return Object(c.useEffect)((function(){t((function(e){var t=localStorage.getItem("state");t&&e(R(JSON.parse(t)))}))}),[]),Object(j.jsxs)("div",{className:q.a.images,style:{maxHeight:"calc(100vh - 128px)"},children:[Object(j.jsx)(J,{value:"Delete picture success!"}),Object(j.jsx)(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:!!e.length&&e.map((function(e,t){return Object(j.jsx)(I,{picture:e,remotePhoto:n,description:"Remove it!"},e.id)}))})]})}var U=n(38),W=n(80),X=n.n(W),Y=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return X.a.create({baseURL:"https://www.flickr.com/services/rest/",params:{method:"flickr.photos.search",api_key:"ded9924f1e38b35ed71d8f034fbf228a",extras:"original_format",tags:e,page:t,format:"json",nojsoncallback:1,per_page:15}})}(e,t).get("")},Z={page:1,pages:0,photo:[],isDisabled:!1},z=function(e){return{type:"APP/SET-PHOTOS",photos:e}},Q=function(e){return{type:"APP/SET-PAGES",payload:e}},$=function(e){return{type:"APP/DISABLED",isDisabled:e}};function ee(e,t){"ok"===e.stat?e.photos.photo.length?(t(z(e.photos.photo)),t(Q({page:e.photos.page,pages:e.photos.pages})),t($(!1))):t(M("No images found for your query. Please enter a valid query")):function(e,t){"fail"===e.stat?t(M(e.message)):t(M("Some error occurred")),t(B("failed"))}(e,t)}var te=n(176),ne=n(180);function ce(e){return Object(j.jsx)(F.a,Object(H.a)({elevation:6,variant:"filled"},e))}function re(){var e=Object(C.c)((function(e){return e.settings.error})),t=Object(C.b)(),n=function(e,n){"clickaway"!==n&&t(M(void 0))};return Object(j.jsx)(G.a,{open:void 0!==e,autoHideDuration:4e3,onClose:n,style:{bottom:"80px"},children:Object(j.jsx)(ce,{onClose:n,severity:"error",children:e})})}var ae=n(177),oe=n(178),ie=Object(te.a)((function(e){return{root:{width:"90%",margin:"10px"},iconButton:{padding:10}}}));function se(e){var t=e.photo,n=e.isDisabled,c=e.error,r=e.title,a=e.nextPage,o=e.onChangeHandler,i=e.onKeyPressHandler,s=e.remotePhoto,l=ie();return Object(j.jsxs)("div",{children:[Object(j.jsx)(re,{}),Object(j.jsx)(J,{value:"Add picture success!"}),Object(j.jsx)(ne.a,{id:"outlined-basic",label:"Find images",variant:"outlined",className:l.root,error:!!c,helperText:c,value:r,onChange:o,onKeyPress:i,InputProps:{endAdornment:Object(j.jsx)(ae.a,{position:"end",onClick:e.clearInput,children:Object(j.jsx)(u.a,{onClick:e.clearInput,children:Object(j.jsx)(oe.a,{})})})}}),!!t.length&&Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{margin:"10px",display:"flex",justifyContent:"flex-end",marginRight:"30px"},children:Object(j.jsx)(E.a,{variant:"outlined",onClick:a,disabled:n,children:"Next page"})}),Object(j.jsx)(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:q.a.images,children:t.map((function(e,t){return Object(j.jsx)(I,{picture:e,remotePhoto:function(){return s(e.id,e)},description:"Bookmark it!"},e.id)}))})]})]})}function ue(){var e=Object(C.c)((function(e){return e.app.photo})),t=Object(C.c)((function(e){return e.app.isDisabled})),n=Object(C.b)();Object(c.useEffect)((function(){n(z([])),n(Q({page:1,pages:0}))}),[]);var r=Object(c.useState)(null),a=Object(U.a)(r,2),o=a[0],i=a[1],s=Object(c.useState)(""),u=Object(U.a)(s,2),l=u[0],d=u[1],O=function(){var e;""!==l.trim()?n((e=l,function(t){t(z([])),t($(!0)),Y(e).then((function(e){return ee(e.data,t)})).catch((function(e){return t(M(e))}))})):i("Title is required")};return Object(j.jsx)(se,{photo:e,isDisabled:t,error:o,title:l,nextPage:function(){var e;n((e=l,function(t,n){t({type:"APP/NEXT-PAGES"}),t($(!0)),Y(e,n().app.page).then((function(e){return ee(e.data,t)})).catch((function(e){return t(M(e))}))}))},onChangeHandler:function(e){d(e.currentTarget.value)},remotePhoto:function(e,t){n({type:"APP/REMOVE-PHOTO",photoId:e}),n(function(e){return function(t,n){var c=localStorage.getItem("state");c&&t(R(JSON.parse(c))),t(function(e){return{type:"APP/LOCALSTORAGE/ADD-PHOTO",photo:e}}(e)),localStorage.setItem("state",JSON.stringify(n().localstorage))}}(t)),n(B("succeeded"))},onKeyPressHandler:function(e){null!==o&&i(null),"Enter"===e.key&&O()},clearInput:function(){d(""),n(z([]))}})}var le=n(62),je=n.n(le);function de(){var e=Object(c.useState)(""),t=Object(U.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(U.a)(a,2),i=o[0],s=o[1];return Object(j.jsx)("div",{className:je.a.container,id:"found",onMouseMove:function(e){r("".concat(-e.clientX/5,"px")),s("".concat(-e.clientY/5,"px"))},style:{backgroundPositionX:n,backgroundPositionY:i},children:Object(j.jsxs)("div",{className:je.a.content,children:[Object(j.jsx)("h2",{children:"404"}),Object(j.jsx)("h4",{children:"Ops! Page not found"}),Object(j.jsx)("p",{children:"The page you were looking for doesn't exist. You may have mistyped the address or the page may have moved."}),Object(j.jsx)(x.b,{to:"/search",children:"Back to home"})]})})}var Oe=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{}),Object(j.jsx)(O.a,{maxWidth:"xl",className:"container",children:Object(j.jsxs)(b.a,{container:!0,className:"grid",justify:"flex-start",direction:"row",children:[Object(j.jsx)(v,{}),Object(j.jsx)("div",{className:"wrap-content",children:Object(j.jsxs)(P.d,{children:[Object(j.jsx)(P.b,{exact:!0,path:"/search",render:function(){return Object(j.jsx)(ue,{})}}),Object(j.jsx)(P.b,{path:"/bookmarks",render:function(){return Object(j.jsx)(K,{})}}),Object(j.jsx)(P.b,{path:"/404",render:function(){return Object(j.jsx)(de,{})}}),Object(j.jsx)(P.a,{exact:!0,from:"/",to:"/search"}),Object(j.jsx)(P.a,{from:"*",to:"/404"})]})})]})}),Object(j.jsx)(h,{})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},he=n(55),pe=n(81),fe=Object(he.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-PHOTOS":return Object(H.a)(Object(H.a)({},e),{},{photo:Object(w.a)(t.photos.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{url:e.originalformat?"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".").concat(e.originalformat):"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")})})))});case"APP/REMOVE-PHOTO":return Object(H.a)(Object(H.a)({},e),{},{photo:Object(w.a)(e.photo.filter((function(e){return e.id!==t.photoId})))});case"APP/SET-PAGES":return Object(H.a)(Object(H.a)({},e),t.payload);case"APP/NEXT-PAGES":return Object(H.a)(Object(H.a)({},e),{},{page:e.page+1});case"APP/DISABLED":return Object(H.a)(Object(H.a)({},e),{},{isDisabled:t.isDisabled});default:return e}},localstorage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/LOCALSTORAGE/ADD-PHOTO":return[].concat(Object(w.a)(e),[t.photo]);case"APP/LOCALSTORAGE/REMOVE-PHOTO":return Object(w.a)(e.filter((function(e){return e.id!==t.photoId})));case"APP/LOCALSTORAGE/SET-PHOTOS":return Object(w.a)(t.photos);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SETTINGS/SET-STATUS":return Object(H.a)(Object(H.a)({},e),{},{status:t.status});case"APP/SETTINGS/SET-ERROR":return Object(H.a)(Object(H.a)({},e),{},{error:t.error});default:return e}}}),xe=Object(he.c)(fe,Object(he.a)(pe.a));a.a.render(Object(j.jsx)(C.a,{store:xe,children:Object(j.jsx)(x.a,{children:Object(j.jsx)(Oe,{})})}),document.getElementById("root")),be()},44:function(e,t,n){e.exports={itemsText:"ImageCard_itemsText__mpBEr",root:"ImageCard_root__36lVf",button:"ImageCard_button__25Us5",media:"ImageCard_media__mNOZK"}},52:function(e,t,n){e.exports={root:"SearchBoard_root__STrNM",images:"SearchBoard_images__3WZ-q"}},54:function(e,t,n){e.exports={menu:"Menu_menu__1xgSW",active:"Menu_active__2e5dO"}},62:function(e,t,n){e.exports={container:"PageNotFound_container__wIkto",content:"PageNotFound_content__ZAkaW"}},96:function(e,t,n){},97:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.175a248a.chunk.js.map