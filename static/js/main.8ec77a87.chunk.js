(this["webpackJsonpsearch-picture"]=this["webpackJsonpsearch-picture"]||[]).push([[0],{119:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(9),a=c.n(r),o=(c(92),c(93),c(155)),i=c(159),s=c(160),u=c(161),j=c(162),l=c(4);function O(){return Object(l.jsx)("div",{style:{flexGrow:1},children:Object(l.jsx)(o.a,{position:"static",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(s.a,{variant:"h6",children:"Image Finder"}),Object(l.jsx)("div",{style:{flexGrow:1}}),Object(l.jsx)(u.a,{color:"inherit",children:Object(l.jsx)(j.a,{})})]})})})}var d=c(173),b=c(163);function p(){return Object(l.jsx)("div",{style:{flexGrow:1},children:Object(l.jsx)(o.a,{position:"static",children:Object(l.jsx)(i.a,{children:Object(l.jsx)(s.a,{variant:"h6",style:{flexGrow:1},children:"Copyrights"})})})})}var h=c(78),f=c(164),x=c(165),g=c(31);function m(){return Object(l.jsx)(h.a,{style:{width:"10%",background:"#ccc"},children:Object(l.jsxs)(b.a,{container:!0,direction:"column",alignItems:"center",children:[Object(l.jsx)(g.b,{to:"/",children:Object(l.jsx)(u.a,{children:Object(l.jsx)(f.a,{})})}),Object(l.jsx)(g.b,{to:"/bookmarks",children:Object(l.jsx)(u.a,{children:Object(l.jsx)(x.a,{})})})]})})}var v=c(12),P=c(52),S=c(172),T=c(174),y=c(171),A=c(19),E=c(29),N=c(16),_=c(76),I=c.n(_),C=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return I.a.create({baseURL:"https://www.flickr.com/services/rest/",params:{method:"flickr.photos.search",api_key:"ded9924f1e38b35ed71d8f034fbf228a",extras:"original_format",tags:e,page:t,format:"json",nojsoncallback:1,per_page:15}})}(e,t).get("")},k={status:"idle",error:void 0},w=function(e){return{type:"APP/SETTINGS/SET-STATUS",status:e}},R=function(e){return{type:"APP/SETTINGS/SET-ERROR",error:e}},G={page:1,pages:0,photo:[]},L=function(e){return{type:"APP/SET-PHOTOS",photos:e}},H=function(e){return{type:"APP/SET-PAGES",payload:e}};function D(e,t){"ok"===e.stat?e.photos.photo.length?(t(L(e.photos.photo)),t(H({page:e.photos.page,pages:e.photos.pages}))):t(R("No images found for your query. Please enter a valid query")):function(e,t){"fail"===e.stat?t(R(e.message)):t(R("Some error occurred")),t(w("failed"))}(e,t)}var J=c(166),F=c(167),B=c(170),M=c(168),q=c(169),U=c(41),V=c.n(U);function z(e){return Object(l.jsxs)(J.a,{className:V.a.root,children:[Object(l.jsxs)(F.a,{children:[Object(l.jsx)(M.a,{className:V.a.media,image:e.picture.url}),Object(l.jsx)(q.a,{className:V.a.itemsText,children:Object(l.jsx)(s.a,{variant:"body1",color:"textSecondary",component:"p",children:e.picture.title})})]}),Object(l.jsx)(B.a,{className:V.a.button,children:Object(l.jsx)(y.a,{size:"small",color:"primary",onClick:function(){return e.remotePhoto(e.picture.id,e.picture)},children:e.description})})]})}var W=[],X=function(e){return{type:"APP/LOCALSTORAGE/SET-PHOTOS",photos:e}},K=c(177),Q=c(175);function Z(e){return Object(l.jsx)(Q.a,Object(N.a)({elevation:6,variant:"filled"},e))}function Y(){var e=Object(A.c)((function(e){return e.settings.error})),t=Object(A.b)(),c=function(e,c){"clickaway"!==c&&t(R(void 0))};return Object(l.jsx)(K.a,{open:void 0!==e,autoHideDuration:4e3,onClose:c,style:{bottom:"80px"},children:Object(l.jsx)(Z,{onClose:c,severity:"error",children:e})})}function $(e){var t=Object(A.c)((function(e){return e.settings.status})),c=Object(A.b)();return Object(l.jsx)(K.a,{open:"succeeded"===t,autoHideDuration:1e3,onClose:function(){c(w("idle"))},style:{bottom:"80px"},children:Object(l.jsx)(Q.a,{severity:"success",children:e.value})})}var ee=c(50),te=c.n(ee),ce=Object(S.a)((function(e){return{root:{width:"90%",margin:"10px"}}}));function ne(){var e=Object(A.c)((function(e){return e.app.photo})),t=Object(A.c)((function(e){return e.app.pages})),c=Object(A.b)();Object(n.useEffect)((function(){c(L([])),c(H({page:1,pages:0}))}),[]);var r=ce(),a=Object(n.useState)(null),o=Object(P.a)(a,2),i=o[0],s=o[1],u=Object(n.useState)(""),j=Object(P.a)(u,2),O=j[0],d=j[1],p=Object(n.useState)(""),h=Object(P.a)(p,2),f=h[0],x=h[1],g=function(){var e;""!==O.trim()?(x(""),c((e=O,function(t){t(L([])),C(e).then((function(e){return D(e.data,t)})).catch((function(e){return t(R(e))}))})),x(O),d("")):s("Title is required")},m=function(e,t){c({type:"APP/REMOVE-PHOTO",photoId:e}),c(function(e){return function(t,c){var n=localStorage.getItem("state");n&&t(X(JSON.parse(n))),t(function(e){return{type:"APP/LOCALSTORAGE/ADD-PHOTO",photo:e}}(e)),localStorage.setItem("state",JSON.stringify(c().localstorage))}}(t)),c(w("succeeded"))};return Object(l.jsxs)("div",{children:[Object(l.jsx)(Y,{}),Object(l.jsx)($,{value:"Add picture success!"}),Object(l.jsx)(T.a,{id:"outlined-basic",label:"Find images",variant:"outlined",className:r.root,error:!!i,helperText:i,value:O,onChange:function(e){d(e.currentTarget.value)},onKeyPress:function(e){null!==i&&s(null),"Enter"===e.key&&g()}}),!!e.length&&Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{margin:"10px",display:"flex",justifyContent:"flex-end",marginRight:"30px"},children:Object(l.jsx)(y.a,{variant:"outlined",onClick:function(){var e;c((e=f,function(t,c){t({type:"APP/NEXT-PAGES"}),C(e,c().app.page).then((function(e){return D(e.data,t)})).catch((function(e){return t(R(e))}))}))},disabled:!t,children:"Next page"})}),Object(l.jsx)(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:te.a.images,children:e.map((function(e,t){return Object(l.jsx)(z,{picture:e,remotePhoto:m,description:"Bookmark it!"},e.id)}))})]})]})}function re(){var e=Object(A.c)((function(e){return e.localstorage})),t=Object(A.b)();function c(e){t(function(e){return function(t,c){t(function(e){return{type:"APP/LOCALSTORAGE/REMOVE-PHOTO",photoId:e}}(e)),localStorage.setItem("state",JSON.stringify(c().localstorage))}}(e)),t(w("succeeded"))}return Object(n.useEffect)((function(){t((function(e){var t=localStorage.getItem("state");t&&e(X(JSON.parse(t)))}))}),[]),Object(l.jsxs)("div",{className:te.a.images,style:{maxHeight:600},children:[Object(l.jsx)($,{value:"Delete picture success!"}),Object(l.jsx)(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:!!e.length&&e.map((function(e,t){return Object(l.jsx)(z,{picture:e,remotePhoto:c,description:"Remove it!"},e.id)}))})]})}var ae=Object(v.e)((function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(O,{}),Object(l.jsx)(d.a,{maxWidth:"xl",style:{padding:"0",height:"calc(100vh - 128px)"},children:Object(l.jsxs)(b.a,{container:!0,style:{height:"100%"},justify:"flex-start",direction:"row",children:[Object(l.jsx)(m,{}),Object(l.jsxs)("div",{className:"wrap-content",children:[Object(l.jsx)(v.a,{exact:!0,path:"/",render:function(){return Object(l.jsx)(ne,{})}}),Object(l.jsx)(v.a,{path:"/bookmarks",render:function(){return Object(l.jsx)(re,{})}})]})]})}),Object(l.jsx)(p,{})]})})),oe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,178)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),a(e),o(e)}))},ie=c(53),se=c(77),ue=Object(ie.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-PHOTOS":return Object(N.a)(Object(N.a)({},e),{},{photo:Object(E.a)(t.photos.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{url:e.originalformat?"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".").concat(e.originalformat):"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")})})))});case"APP/REMOVE-PHOTO":return Object(N.a)(Object(N.a)({},e),{},{photo:Object(E.a)(e.photo.filter((function(e){return e.id!==t.photoId})))});case"APP/SET-PAGES":return Object(N.a)(Object(N.a)({},e),t.payload);case"APP/NEXT-PAGES":return Object(N.a)(Object(N.a)({},e),{},{page:e.page+1});default:return e}},localstorage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/LOCALSTORAGE/ADD-PHOTO":return[].concat(Object(E.a)(e),[t.photo]);case"APP/LOCALSTORAGE/REMOVE-PHOTO":return Object(E.a)(e.filter((function(e){return e.id!==t.photoId})));case"APP/LOCALSTORAGE/SET-PHOTOS":return Object(E.a)(t.photos);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SETTINGS/SET-STATUS":return Object(N.a)(Object(N.a)({},e),{},{status:t.status});case"APP/SETTINGS/SET-ERROR":return Object(N.a)(Object(N.a)({},e),{},{error:t.error});default:return e}}}),je=Object(ie.c)(ue,Object(ie.a)(se.a));a.a.render(Object(l.jsx)(A.a,{store:je,children:Object(l.jsx)(g.a,{children:Object(l.jsx)(ae,{})})}),document.getElementById("root")),oe()},41:function(e,t,c){e.exports={itemsText:"ImageCard_itemsText__3UNQ8",root:"ImageCard_root__2lzrc",button:"ImageCard_button__2JSHj",media:"ImageCard_media__3demy"}},50:function(e,t,c){e.exports={root:"SearchBoard_root__STrNM",images:"SearchBoard_images__3WZ-q"}},92:function(e,t,c){},93:function(e,t,c){}},[[119,1,2]]]);
//# sourceMappingURL=main.8ec77a87.chunk.js.map